#!/bin/zsh
#zmodload zsh/zprof

# Source Prezto.
# if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
#   source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
# fi

# Add completions.
if [ -d ${HOME}/.local/bin/completions ]; then
  export fpath=(${HOME}/.local/bin/completions $fpath)
fi

#######################################################################
#                               Plugins                               #
#######################################################################

# Add zsh plugins
if [[ -d ${ZDOTDIR:-$HOME}/.zplugins ]]; then
  for plugin in ${ZDOTDIR:-$HOME}/.zplugins/**/*.plugin.zsh; do
    source $plugin
  done
fi

#######################################################################
#                               Imports                               #
#######################################################################

# Import Local settings
if [[ ! -f ${ZDOTDIR-$HOME}/.zshrc.local ]]; then
  touch ${ZDOTDIR:-$HOME}/.zshrc.local
fi
source ${ZDOTDIR:-$HOME}/.zshrc.local
